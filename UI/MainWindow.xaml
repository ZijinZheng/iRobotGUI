<Window xmlns:Controls="clr-namespace:iRobotGUI.Controls" 
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"  
    x:Class="iRobotGUI.MainWindow"
    xmlns:System="clr-namespace:System;assembly=mscorlib"    
    xmlns:custom="clr-namespace:iRobotGUI"
    
    Title="iRobot GUI" Width="750" Height="500" >

    <Window.CommandBindings>
        <CommandBinding Command="ApplicationCommands.New" Executed="NewCmdExecuted"/>
        <CommandBinding Command="ApplicationCommands.Open" Executed="OpenCmdExecuted"/>
        <CommandBinding Command="ApplicationCommands.Save" Executed="SaveCmdExecuted"/>
        <CommandBinding Command="{x:Static custom:MainWindow.ComPortCmd}" Executed="ConfigCmdExecuted"/>
        <CommandBinding Command="{x:Static custom:MainWindow.OpenSourceCmd}" Executed="OpenSrcCmdExecuted" CanExecute="OpenSrcCmdCanExecute"/>
    </Window.CommandBindings>


    <Grid Margin="0,0,0,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="250"/>
        </Grid.ColumnDefinitions>

        <Menu Grid.Row="0" Grid.ColumnSpan ="4" VerticalAlignment="Top" >
            <MenuItem Header="_File">
                <MenuItem Command="ApplicationCommands.New" />
                <MenuItem Command="ApplicationCommands.Save" />
                <MenuItem Command="ApplicationCommands.SaveAs" />
                <MenuItem Command="ApplicationCommands.Open" />
                <Separator/>
                <MenuItem Header="Program Folder" Click="MenuItemShowSrcFolder_Click"  />
                <MenuItem Command="{x:Static custom:MainWindow.OpenSourceCmd}"  />
                <Separator/>
                <MenuItem Command="ApplicationCommands.Close"/>
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Command="Cut" />
                <MenuItem Command="Copy"  />
                <MenuItem Command="Paste" />                
            </MenuItem>
            <MenuItem Header="Build">
                <MenuItem Header="Translate to C Code" Click="MenuItemTranslate_Click"/>
                <MenuItem Header="Show C Code" Click="MenuItem_ShowCCode"/>
                <Separator />
                <MenuItem Header="WinAVR Build" Click="MenuItemBuild_Click"/>
                <MenuItem Header="WinAVR Clean" Click="MenuItemClean_Click" />
                <MenuItem Header="WinAVR Load" Click="MenuItemLoad_Click"/>
                <Separator />
                <MenuItem Header="Translate Build and Load" Click="BuildAndLoad"/>
                <Separator/>
                <MenuItem Command="{x:Static custom:MainWindow.ComPortCmd}" />
            </MenuItem>
            <MenuItem Header="Help">
                <MenuItem Header="About"  InputGestureText="F1" Click="MenuItemAbout_Click" />              
            </MenuItem>
        </Menu>

        <Controls:InstructionPanel Grid.Row="1" Grid.Column="0"/>

        <Controls:ProgramList x:Name="programList1" Grid.Row="1" Grid.Column="1" />        


        <Grid Grid.Row="1" Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="28"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Label Content="Debugging info" HorizontalAlignment="Left" VerticalAlignment="Top" Height="26" Width="93"/>

            <Button Content="Load Example Code" HorizontalAlignment="Left" VerticalAlignment="Top" Click="buttonLoadExampleCode_Click" Grid.Row="1" Margin="10,0,0,0" />
            <Button x:Name="buttonRefreshSource" Content="Refresh source code" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Margin="10,27,0,0" Grid.RowSpan="2" Click="buttonRefreshSource_Click"  />
            <TextBox x:Name="textBoxSrc" TextWrapping="Wrap" Text="Source Code"  Grid.Row="2" AcceptsReturn="True" Margin="0,26,0,0"/>

        </Grid>


    </Grid>
</Window>
